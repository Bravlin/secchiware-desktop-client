(function(e){function t(t){for(var a,o,i=t[0],c=t[1],l=t[2],u=0,p=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&p.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/secchiware-desktop-client/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=c;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("85ec"),r=s.n(a);r.a},"036f":function(e,t,s){"use strict";var a=s("5032"),r=s.n(a);r.a},1:function(e,t){},1689:function(e,t,s){"use strict";var a=s("9c39"),r=s.n(a);r.a},2:function(e,t){},2079:function(e,t,s){"use strict";var a=s("8524"),r=s.n(a);r.a},2338:function(e,t,s){},3:function(e,t){},3330:function(e,t,s){"use strict";var a=s("2338"),r=s.n(a);r.a},"362f":function(e,t,s){"use strict";var a=s("e162"),r=s.n(a);r.a},4:function(e,t){},5032:function(e,t,s){},"505c":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d"),s("0cdd");var a=s("2b0e"),r=s("5f5b"),n=s("b1e0");s("ab8b"),s("2dd8");a["default"].use(r["a"]),a["default"].use(n["a"]);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[e.c2URL?s("layout",{attrs:{c2URL:e.c2URL,c2Password:e.c2Password},on:{newC2Configuration:e.setC2Configuration}}):s("welcome",{on:{newC2Configuration:e.setC2Configuration}})],1)},i=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"d-flex",attrs:{id:"layout"}},[s("div",{staticClass:"d-flex flex-column",attrs:{id:"navbar"}},[s("div",{staticClass:"py-1 navbar-button",class:{active:"command-control-panel"==e.currentPanel},on:{click:function(t){return e.changePanel("command-control-panel")}}},[s("b-icon-cloud-fill",{staticClass:"navbar-icon"})],1),s("div",{staticClass:"py-1 navbar-button",class:{active:"environments-panel"==e.currentPanel},on:{click:function(t){return e.changePanel("environments-panel")}}},[s("b-icon-laptop",{staticClass:"navbar-icon"})],1),s("div",{staticClass:"py-1 navbar-button",class:{active:"sessions-panel"==e.currentPanel},on:{click:function(t){return e.changePanel("sessions-panel")}}},[s("b-icon-documents",{staticClass:"navbar-icon"})],1)]),s(e.currentPanel,e._g(e._b({tag:"component",staticClass:"main-content flex-grow-1",staticStyle:{overflow:"auto"}},"component",e.panelProps,!1),e.panelEvents))],1)},l=[],d=(s("4de4"),s("b0c0"),s("d3b7"),s("96cf"),s("1da1")),u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-5"},[s("b-card",{staticClass:"command-control-panel-b-card mx-auto",attrs:{title:"Command and Control server's configuration",align:"left"}},[s("b-form-group",{attrs:{id:"c2-url-fieldset",label:"URL","label-for":"c2-url"}},[s("b-form-input",{attrs:{id:"c2-url",type:"url",placeholder:"http://127.0.0.1/5000",disabled:!e.editEnabled},model:{value:e.fieldC2URL,callback:function(t){e.fieldC2URL=t},expression:"fieldC2URL"}})],1),s("b-form-group",{attrs:{id:"c2-password-fieldset",label:"Password","label-for":"c2-password"}},[s("b-form-input",{attrs:{id:"c2-password",type:"password",disabled:!e.editEnabled},model:{value:e.fieldC2Password,callback:function(t){e.fieldC2Password=t},expression:"fieldC2Password"}})],1),s("div",{staticClass:"mt-4"},[s("b-button",{attrs:{variant:"dark",hidden:e.editEnabled},on:{click:function(t){e.editEnabled=!0}}},[e._v(" Edit ")]),s("b-button",{attrs:{variant:"secondary",hidden:!e.editEnabled},on:{click:e.cancelEdition}},[e._v(" Cancel ")]),s("b-button",{staticClass:"ml-3",attrs:{variant:"dark",hidden:!e.editEnabled,disabled:!e.validConfiguration},on:{click:e.setC2Configuration}},[e._v(" Confirm ")])],1)],1),s("b-card",{staticClass:"command-control-panel-b-card mx-auto mt-5",attrs:{title:"Tests repository",align:"left"}},[s("b-tabs",{attrs:{pills:"","active-nav-item-class":"bg-secondary","nav-class":"bg-dark"}},[s("b-tab",{attrs:{title:"Explore","title-link-class":"text-light",active:""}},[s("test-packages",{attrs:{packages:e.availablePackages},on:{packagesRefreshRequested:e.refreshPackages}})],1),s("b-tab",{attrs:{title:"Upload","title-link-class":"text-light"}},[s("upload-packages-form",{attrs:{c2URL:e.c2URL,c2Password:e.c2Password},on:{packagesUploaded:e.refreshPackages}})],1),s("b-tab",{attrs:{title:"Delete","title-link-class":"text-light"}},[s("delete-packages-form",{attrs:{packages:e.availablePackages,c2URL:e.c2URL,c2Password:e.c2Password,baseEndpoint:"/test_sets"},on:{error:e.deletePackageError,packagesDeleted:e.propagatePackagesDeleted,packagesRefreshRequested:e.refreshPackages}})],1)],1)],1)],1)},p=[],f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{staticClass:"black-background p-3",attrs:{cols:"4"}},[s("h5",[e._v(" Root packages "),s("b-icon-arrow-repeat",{staticClass:"clickable",on:{click:e.refreshPackages}})],1),s("b-form-radio-group",{attrs:{options:e.rootOptions,stacked:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),s("b-col",{staticClass:"p-3",attrs:{cols:"8"}},[s("h5",[e._v("Details")]),e.selected?s("package-expansion",{attrs:{pack:e.selected}}):e._e()],1)],1)],1)},h=[],m=(s("a4d3"),s("e01a"),s("d28b"),s("3ca3"),s("ddb0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[e._v("Name: "),s("b",[e._v(e._s(e.pack.name))])]),e.pack.modules?[s("div",{staticClass:"clickable",on:{click:e.toggleModules}},[e._v(e._s(e.modulesAction)+" Modules")]),e.modulesVisible?e._l(e.pack.modules,(function(e){return s("module-expansion",{key:e.name,staticClass:"pl-4",attrs:{mod:e}})})):e._e()]:e._e(),e.pack.subpackages?[s("div",{staticClass:"clickable",on:{click:e.toggleSubpackages}},[e._v(" "+e._s(e.subpackagesAction)+" Subpackages ")]),e.subpackagesVisible?e._l(e.pack.subpackages,(function(e){return s("package-expansion",{key:e.name,staticClass:"pl-4",attrs:{pack:e}})})):e._e()]:e._e()],2)}),b=[],v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[e._v("Name: "),s("b",[e._v(e._s(e.mod.name))])]),e.mod.test_sets?[s("div",{staticClass:"clickable",on:{click:e.toggleTestSets}},[e._v(e._s(e.testSetsAction)+" Test sets")]),e.testSetsVisible?e._l(e.mod.test_sets,(function(e){return s("test-set-expansion",{key:e.name,staticClass:"pl-4",attrs:{testSet:e}})})):e._e()]:e._e()],2)},g=[],k=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[e._v("Name: "),s("b",[e._v(e._s(e.testSet.name))])]),e.testSet.tests?[s("div",{staticClass:"clickable",on:{click:e.toggleTests}},[e._v(e._s(e.testsAction)+" Tests")]),e.testsVisible?[s("ul",{staticClass:"pl-4 my-0"},e._l(e.testSet.tests,(function(t){return s("li",{key:t},[s("b",[e._v(e._s(t))])])})),0)]:e._e()]:e._e()],2)},w=[],x={name:"test-set-expansion",data:function(){return{testsVisible:!1,testsAction:"+"}},props:{testSet:{type:Object,required:!0}},methods:{toggleTests:function(){this.testsVisible=!this.testsVisible,this.testsAction=this.testsVisible?"-":"+"}}},_=x,y=(s("2079"),s("2877")),C=Object(y["a"])(_,k,w,!1,null,"35bed57e",null),P=C.exports,S={name:"module-expansion",components:{TestSetExpansion:P},data:function(){return{testSetsVisible:!1,testSetsAction:"+"}},props:{mod:{type:Object,required:!0}},methods:{toggleTestSets:function(){this.testSetsVisible=!this.testSetsVisible,this.testSetsAction=this.testSetsVisible?"-":"+"}}},E=S,R=(s("1689"),Object(y["a"])(E,v,g,!1,null,"5496677a",null)),M=R.exports,A={name:"package-expansion",components:{ModuleExpansion:M},data:function(){return{modulesVisible:!1,subpackagesVisible:!1,modulesAction:"+",subpackagesAction:"+"}},props:{pack:{type:Object,required:!0}},methods:{toggleModules:function(){this.modulesVisible=!this.modulesVisible,this.modulesAction=this.modulesVisible?"-":"+"},toggleSubpackages:function(){this.subpackagesVisible=!this.subpackagesVisible,this.subpackagesAction=this.subpackagesVisible?"-":"+"}}},U=A,O=(s("bf07"),Object(y["a"])(U,m,b,!1,null,"f311d738",null)),T=O.exports,j={name:"test-packages",components:{"package-expansion":T},data:function(){return{selected:null}},props:{packages:{type:Array,required:!0}},methods:{refreshPackages:function(){this.$emit("packagesRefreshRequested")}},computed:{rootOptions:function(){var e,t=[],s=!0,a=!1,r=void 0;try{for(var n,o=this.packages[Symbol.iterator]();!(s=(n=o.next()).done);s=!0)e=n.value,t.push({text:e.name,value:e})}catch(i){a=!0,r=i}finally{try{s||null==o.return||o.return()}finally{if(a)throw r}}return t}}},q=j,L=(s("a1e8"),Object(y["a"])(q,f,h,!1,null,"decdfbba",null)),$=L.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-form",{staticClass:"text-center p-3",on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[s("b-form-group",{attrs:{id:"packages-fieldset",label:"Packages","label-align":"left"}},[s("b-form-file",{attrs:{id:"packges-to-upload",state:Boolean(e.packagesToUpload),accept:".tar.gz",placeholder:"Choose or drop here a tar.gz file..."},model:{value:e.packagesToUpload,callback:function(t){e.packagesToUpload=t},expression:"packagesToUpload"}})],1),s("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"dark",disabled:!e.packagesToUpload}},[e._v(" Upload ")])],1)},I=[],F=(s("ace4"),s("5cc6"),s("9a8c"),s("a975"),s("735e"),s("c1ac"),s("d139"),s("3a7b"),s("d5d6"),s("82f8"),s("e91f"),s("60bd"),s("5f96"),s("3280"),s("3fcc"),s("ca91"),s("25a1"),s("cd26"),s("3c5d"),s("2954"),s("649e"),s("219c"),s("170b"),s("b39a"),s("72f7"),{methods:{showErrorModal:function(e){this.$bvModal.msgBoxOk(e,{title:"Error",headerBgVariant:"danger",headerTextVariant:"light",okVariant:"dark"})},showSuccessModal:function(e){this.$bvModal.msgBoxOk(e,{title:"Success",headerBgVariant:"success",headerTextVariant:"light",okVariant:"dark"})},showWarningModal:function(e){this.$bvModal.msgBoxOk(e,{title:"Warning",headerBgVariant:"warning",headerTextVariant:"light",okVariant:"dark"})},showDangerousOperationConfirmationModal:function(e,t){return this.$bvModal.msgBoxConfirm(e,{title:"Confirmation",headerBgVariant:"dark",headerTextVariant:"light",okVariant:"danger",okTitle:t,centered:!0})}}}),V=s("1c46"),B=s.n(V),H=(s("99af"),s("a15b"),s("d81d"),{newSignature:function(e,t,s){var a,r,n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=o.query,c=void 0===i?"":i,l=o.signatureHeaders,d=void 0===l?null:l,u=o.headerRecoverer,p=void 0===u?null:u,f="".concat(t.toLowerCase(),"\n").concat(s,"\n");if(c&&(f+="".concat(encodeURIComponent(c),"\n")),d){if(!p)throw new Error('"signatureHeaders" was provided but no "headerRecoverer" was given.');var h=!0,m=!1,b=void 0;try{for(var v,g=d[Symbol.iterator]();!(h=(v=g.next()).done);h=!0){if(a=v.value,a=a.toLowerCase(),r=p(a),!r)throw new Error('Value of header "'.concat(a,'" could not be recovered.'));f+="".concat(a,": ").concat(r,"\n")}}catch(k){m=!0,b=k}finally{try{h||null==g.return||g.return()}finally{if(m)throw b}}}return f=f.substring(0,f.length-1),n=B.a.createHmac("sha256",e),n.update(f),n.digest("base64")},newAuthorizationHeader:function(e,t){var s,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r="SECCHIWARE-HMAC-256 keyId=".concat(e,",");return a&&(s=a.map((function(e){return e.toLowerCase()})).join(";"),r+="headers=".concat(s,",")),r+="signature=".concat(t),r}}),N={name:"upload-packages-form",mixins:[F],props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0}},data:function(){return{packagesToUpload:null}},methods:{handleSubmit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,r,n,o,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s="".concat(e.c2URL,"/test_sets"),e.packagesToUpload){t.next=5;break}e.showErrorModal("You must provide a file."),t.next=44;break;case 5:return n=new FormData,n.append("packages",e.packagesToUpload),a=new Request(s,{method:"PATCH",body:n}),r=a.clone(),o=B.a.createHash("sha256"),t.t0=o,t.t1=Uint8Array,t.next=14,a.arrayBuffer();case 14:return t.t2=t.sent,t.t3=new t.t1(t.t2),t.t0.update.call(t.t0,t.t3),i=o.digest("base64"),r.headers.append("Digest","sha-256=".concat(i)),c=H.newSignature(e.c2Password,a.method,"/test_sets",{signatureHeaders:["Digest"],headerRecoverer:function(e){return r.headers.get(e)}}),r.headers.set("Authorization",H.newAuthorizationHeader("Client",c,["Digest"])),t.prev=21,t.next=24,fetch(r);case 24:l=t.sent,t.t4=l.status,t.next=204===t.t4?28:400===t.t4?32:401===t.t4?32:415===t.t4?32:38;break;case 28:return e.$emit("packagesUploaded"),e.showSuccessModal("Packages uploaded!"),e.packagesToUpload=null,t.abrupt("break",39);case 32:return t.t5=e,t.next=35,l.json();case 35:return t.t6=t.sent.error,t.t5.showErrorModal.call(t.t5,t.t6),t.abrupt("break",39);case 38:e.showErrorModal("Unexpected response from Command and Control server when trying to upload packages.");case 39:t.next=44;break;case 41:t.prev=41,t.t7=t["catch"](21),e.showErrorModal("Something went wrong trying to contact the Command and Control server to upload some packages. Please, verify that the application is correctly configured.");case 44:case"end":return t.stop()}}),t,null,[[21,41]])})))()}}},z=N,W=Object(y["a"])(z,D,I,!1,null,null,null),Y=W.exports,J=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{staticClass:"black-background py-3",attrs:{cols:"6"}},[s("h5",[e._v(" Root packages "),s("b-icon-arrow-repeat",{staticClass:"clickable",on:{click:e.refreshPackages}})],1),s("b-form-checkbox-group",{attrs:{id:"delete-packages-checkbox",options:e.rootOptions,name:"root-package",stacked:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),s("b-col",{staticClass:"text-center py-3",attrs:{cols:"6"}},[s("b-button",{staticClass:"mt-1",attrs:{variant:"danger",disabled:0==this.selected.length},on:{click:e.deleteSelectedPackages}},[e._v(" Delete ")])],1)],1)],1)},G=[],K=(s("6062"),{name:"delete-packages-form",mixins:[F],data:function(){return{selected:[]}},props:{packages:{type:Array,required:!0},c2URL:{type:String,required:!0},c2Password:{type:String,required:!0},baseEndpoint:{type:String,required:!0}},methods:{deleteSelectedPackages:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,r,n,o,i,c,l,d,u,p,f;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!=e.selected.length){t.next=4;break}e.showErrorModal("You must select at least one package."),t.next=54;break;case 4:return t.next=6,e.showDangerousOperationConfirmationModal("Are you sure you want to delete the selected packages?","Delete");case 6:if(s=t.sent,!s){t.next=54;break}c=new Set,r={method:"DELETE",headers:new Headers},l=!0,d=!1,u=void 0,t.prev=13,p=e.selected[Symbol.iterator]();case 15:if(l=(f=p.next()).done){t.next=39;break}return a=f.value,n="".concat(e.baseEndpoint,"/").concat(a),o=H.newSignature(e.c2Password,r.method,n),r.headers.set("Authorization",H.newAuthorizationHeader("Client",o)),t.prev=20,t.next=23,fetch("".concat(e.c2URL).concat(n),r);case 23:i=t.sent,t.t0=i.status,t.next=404===t.t0?27:204===t.t0?28:30;break;case 27:e.showErrorModal("Package '".concat(a,"' was not found."));case 28:return c.add(a),t.abrupt("break",31);case 30:e.$emit("error",i);case 31:t.next=36;break;case 33:t.prev=33,t.t1=t["catch"](20),e.showErrorModal("Something went wrong when trying to contact the Command and Control server to delete the packages. Please, verify that the application is correctly configured.");case 36:l=!0,t.next=15;break;case 39:t.next=45;break;case 41:t.prev=41,t.t2=t["catch"](13),d=!0,u=t.t2;case 45:t.prev=45,t.prev=46,l||null==p.return||p.return();case 48:if(t.prev=48,!d){t.next=51;break}throw u;case 51:return t.finish(48);case 52:return t.finish(45);case 53:c.size>0&&(e.selected=[],e.$emit("packagesDeleted",c));case 54:case"end":return t.stop()}}),t,null,[[13,41,45,53],[20,33],[46,,48,52]])})))()},refreshPackages:function(){this.$emit("packagesRefreshRequested")}},computed:{rootOptions:function(){var e,t=[],s=!0,a=!1,r=void 0;try{for(var n,o=this.packages[Symbol.iterator]();!(s=(n=o.next()).done);s=!0)e=n.value,t.push({text:e.name,value:e.name})}catch(i){a=!0,r=i}finally{try{s||null==o.return||o.return()}finally{if(a)throw r}}return t}}}),Q=K,X=(s("dfac"),Object(y["a"])(Q,J,G,!1,null,"df3faf9c",null)),Z=X.exports,ee={name:"command-control-panel",components:{"test-packages":$,"upload-packages-form":Y,"delete-packages-form":Z},props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0},availablePackages:{type:Array,required:!0}},data:function(){return{fieldC2URL:this.c2URL,fieldC2Password:this.c2Password,editEnabled:!1}},methods:{deletePackageError:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(401!=e.status){s.next=8;break}return s.t0=t.$bvModal,s.next=4,e.json();case 4:s.t1=s.sent.error,s.t0.msgBoxOk.call(s.t0,s.t1),s.next=9;break;case 8:t.$bvModal.msgBoxOk("Unexpected response from Command and Control server.");case 9:case"end":return s.stop()}}),s)})))()},cancelEdition:function(){this.editEnabled=!1,this.fieldC2URL=this.c2URL,this.fieldC2Password=this.c2Password},setC2Configuration:function(){this.validConfiguration?(this.$emit("newC2Configuration",this.fieldC2URL,this.fieldC2Password),this.editEnabled=!1):this.$bvModal.msgBoxOk("You must provide both an URL and a password for the desired Command and Control server.")},refreshPackages:function(){this.$emit("packagesRefreshRequested")},propagatePackagesDeleted:function(e){this.$emit("packagesDeleted",e)}},computed:{validConfiguration:function(){return this.fieldC2URL&&this.fieldC2Password}}},te=ee,se=(s("3330"),Object(y["a"])(te,u,p,!1,null,"70af6ffc",null)),ae=se.exports,re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-row",{staticStyle:{height:"100%"}},[e.environments?s("b-col",{staticClass:"py-3 overflowable",attrs:{id:"environments-list",cols:"5",md:"4",lg:"3",xl:"2"}},[s("h5",[e._v(" Registered environments "),s("b-icon-arrow-repeat",{staticClass:"clickable",on:{click:e.setEnvironments}})],1),s("b-form-radio-group",{attrs:{options:e.environmentsListOptions,stacked:""},model:{value:e.selectedEnv,callback:function(t){e.selectedEnv=t},expression:"selectedEnv"}})],1):e._e(),s("b-col",{staticClass:"p-5 overflowable",attrs:{cols:"7",md:"8",lg:"9",xl:"10"}},[e.selectedEnv&&e.envPlatform?s("b-card",{staticClass:"environments-panel-b-card mx-auto",attrs:{title:"Environment information",align:"left"}},[s("div",[e._v("IP: "+e._s(e.selectedEnv.ip))]),s("div",{staticClass:"mt-3"},[e._v("Port: "+e._s(e.selectedEnv.port))]),s("div",{staticClass:"mt-3"},[e._v("Session ID: "+e._s(e.selectedEnv.session_id))]),s("div",{staticClass:"my-3"},[e._v("Session start: "+e._s(e.selectedEnv.session_start))]),s("platform-information",{attrs:{platform:e.envPlatform,verticalMarginBetween:3}})],1):e._e(),e.selectedEnv?s("b-card",{staticClass:"environments-panel-b-card mx-auto mt-5",attrs:{title:"Tests management",align:"left"}},[s("b-tabs",{attrs:{pills:"","active-nav-item-class":"bg-secondary","nav-class":"bg-dark"}},[s("b-tab",{attrs:{title:"Explore","title-link-class":"text-light",active:""}},[e.installedPackages?s("test-packages",{attrs:{packages:e.installedPackages},on:{packagesRefreshRequested:function(t){return e.setInstalledPackages(e.selectedEnv.ip,e.selectedEnv.port)}}}):e._e()],1),s("b-tab",{attrs:{title:"Install","title-link-class":"text-light"}},[s("install-packages-form",{attrs:{c2URL:e.c2URL,c2Password:e.c2Password,c2AvailablePackages:e.availablePackages,envIP:e.selectedEnv.ip,envPort:e.selectedEnv.port},on:{refreshAvailablePackagesRequested:e.propagateAvailablePackagesRefreshRequested,packagesInstalled:function(t){return e.setInstalledPackages(e.selectedEnv.ip,e.selectedEnv.port)}}})],1),s("b-tab",{attrs:{title:"Uninstall","title-link-class":"text-light"}},[s("delete-packages-form",{attrs:{packages:e.installedPackages,c2URL:e.c2URL,c2Password:e.c2Password,baseEndpoint:"/environments/"+e.selectedEnv.ip+"/"+e.selectedEnv.port+"/installed"},on:{error:e.uninstallPackageError,packagesDeleted:e.removePackages,packagesRefreshRequested:function(t){return e.setInstalledPackages(e.selectedEnv.ip,e.selectedEnv.port)}}})],1)],1)],1):e._e(),e.selectedEnv?s("b-card",{staticClass:"environments-panel-b-card mx-auto mt-5",attrs:{title:"Execute tests",align:"left"}},[s("b-tabs",{attrs:{pills:"","active-nav-item-class":"bg-secondary","nav-class":"bg-dark"}},[s("b-tab",{attrs:{title:"Select tests","title-link-class":"text-light",active:""}},[s("execute-tests",{attrs:{c2URL:e.c2URL,ip:e.selectedEnv.ip,port:e.selectedEnv.port,installedPackages:e.installedPackages},on:{reportsRecovered:e.setReports,refreshPackagesRequested:function(t){return e.setInstalledPackages(e.selectedEnv.ip,e.selectedEnv.port)}}})],1),e.reports?s("b-tab",{attrs:{title:"Reports","title-link-class":"text-light"}},[s("reports",{attrs:{reports:e.reports}})],1):e._e()],1)],1):e._e()],1)],1)],1)},ne=[],oe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("div",[e._v("Host name: "+e._s(e.platform.node))]),s("div",{class:e.verticalMarginBetweenClass},[e._v("Platform: "+e._s(e.platform.platform))]),s("div",{class:"clickable "+e.verticalMarginBetweenClass,on:{click:e.toggleHardware}},[e._v(" "+e._s(e.hardwareAction)+" Hardware ")]),"-"==e.hardwareAction?[s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Processor: "+e._s(e.platform.hardware.processor)+" ")]),s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Architecture: "+e._s(e.platform.hardware.machine)+" ")])]:e._e(),s("div",{class:"clickable "+e.verticalMarginBetweenClass,on:{click:e.toggleOS}},[e._v(" "+e._s(e.osAction)+" Operating system ")]),"-"==e.osAction?[s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" System: "+e._s(e.platform.os.system)+" ")]),s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Release: "+e._s(e.platform.os.release)+" ")]),s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Version: "+e._s(e.platform.os.version)+" ")])]:e._e(),s("div",{class:"clickable "+e.verticalMarginBetweenClass,on:{click:e.togglePython}},[e._v(" "+e._s(e.pythonAction)+" Python ")]),"-"==e.pythonAction?[s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Version: "+e._s(e.platform.python.version)+" ")]),s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Implementation: "+e._s(e.platform.python.implementation)+" ")]),s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Compiler: "+e._s(e.platform.python.compiler)+" ")]),s("div",{class:"pl-4 "+e.verticalMarginBetweenClass},[e._v(" Build: "+e._s(e.platform.python.build[0]+" - "+e.platform.python.build[1])+" ")])]:e._e()],2)},ie=[],ce=(s("a9e3"),{name:"platform-information",data:function(){return{hardwareAction:"+",osAction:"+",pythonAction:"+"}},props:{platform:{type:Object,required:!0},verticalMarginBetween:{type:Number,required:!1}},methods:{nextHideOrShowSymbol:function(e){return"+"==e?"-":"+"},toggleHardware:function(){this.hardwareAction=this.nextHideOrShowSymbol(this.hardwareAction)},toggleOS:function(){this.osAction=this.nextHideOrShowSymbol(this.osAction)},togglePython:function(){this.pythonAction=this.nextHideOrShowSymbol(this.pythonAction)}},computed:{verticalMarginBetweenClass:function(){return this.verticalMarginBetween?"mt-".concat(this.verticalMarginBetween):""}}}),le=ce,de=(s("c017"),Object(y["a"])(le,oe,ie,!1,null,"778f6e0f",null)),ue=de.exports,pe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[s("b-row",[s("b-col",{staticClass:"black-background py-3",attrs:{cols:"6"}},[s("h5",[e._v(" Available packages "),s("b-icon-arrow-repeat",{staticClass:"clickable",on:{click:e.refreshAvailablePackages}})],1),s("b-form-checkbox-group",{attrs:{id:"install-packages-checkbox",options:e.packagesOptions,name:"available-package",stacked:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),s("b-col",{staticClass:"text-center py-3",attrs:{cols:"6"}},[s("b-button",{staticClass:"mt-1",attrs:{type:"submit",variant:"dark",disabled:0===this.selected.length}},[e._v(" Install ")])],1)],1)],1)],1)},fe=[],he={name:"install-packages-form",mixins:[F],data:function(){return{selected:[]}},props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0},c2AvailablePackages:{type:Array,required:!0},envIP:{type:String,required:!0},envPort:{type:Number,required:!0}},methods:{refreshAvailablePackages:function(){this.$emit("refreshAvailablePackagesRequested")},handleSubmit:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,r,n,o,i,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.selected.length){t.next=4;break}e.showErrorModal("You must select at least one package."),t.next=42;break;case 4:return s="/environments/".concat(e.envIP,"/").concat(e.envPort,"/installed"),a=new Request(e.c2URL+s,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(e.selected)}),r=a.clone(),n=B.a.createHash("sha256"),t.t0=n,t.t1=Uint8Array,t.next=12,a.arrayBuffer();case 12:return t.t2=t.sent,t.t3=new t.t1(t.t2),t.t0.update.call(t.t0,t.t3),o=n.digest("base64"),r.headers.append("Digest","sha-256=".concat(o)),i=H.newSignature(e.c2Password,a.method,s,{signatureHeaders:["Digest"],headerRecoverer:function(e){return r.headers.get(e)}}),r.headers.set("Authorization",H.newAuthorizationHeader("Client",i,["Digest"])),t.prev=19,t.next=22,fetch(r);case 22:c=t.sent,t.t4=c.status,t.next=204===t.t4?26:400===t.t4?30:401===t.t4?30:404===t.t4?30:415===t.t4?30:500===t.t4?30:502===t.t4?30:504===t.t4?30:36;break;case 26:return e.$emit("packagesInstalled"),e.showSuccessModal("Packages installed!"),e.selected=[],t.abrupt("break",37);case 30:return t.t5=e,t.next=33,c.json();case 33:return t.t6=t.sent.error,t.t5.showErrorModal.call(t.t5,t.t6),t.abrupt("break",37);case 36:e.showErrorModal("Unexpected response from Command and Control server when trying to install some packages in the selected environment.");case 37:t.next=42;break;case 39:t.prev=39,t.t7=t["catch"](19),e.showErrorModal("Something went wrong trying to contact the Command and Control server when trying to install some packages in the selected environment. Please, verify that the application is correctly configured.");case 42:case"end":return t.stop()}}),t,null,[[19,39]])})))()}},computed:{packagesOptions:function(){var e,t=[],s=!0,a=!1,r=void 0;try{for(var n,o=this.c2AvailablePackages[Symbol.iterator]();!(s=(n=o.next()).done);s=!0)e=n.value,t.push({text:e.name,value:e.name})}catch(i){a=!0,r=i}finally{try{s||null==o.return||o.return()}finally{if(a)throw r}}return t}}},me=he,be=(s("5ec8"),Object(y["a"])(me,pe,fe,!1,null,"950db5ee",null)),ve=be.exports,ge=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{staticClass:"black-background p-3",attrs:{cols:"4"}},[s("h5",[e._v("Reports")]),s("b-form-radio-group",{attrs:{options:e.reportsOptions,stacked:""},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),s("b-col",{staticClass:"p-3",attrs:{cols:"8"}},[s("h5",[e._v("Details")]),e.selected?[s("div",[s("b",[e._v("Name:")]),e._v(" "+e._s(e.selected.test_name))]),s("div",[s("b",[e._v("Status:")]),s("span",{style:"color: "+e.correspondingTextColor(e.selected.result_code)+";"},[e._v(" "+e._s(e.selectedStatus())+" ")])]),s("div",[s("b",[e._v("Time of start:")]),e._v(" "+e._s(e.selected.timestamp_start))]),s("div",[s("b",[e._v("Time of end:")]),e._v(" "+e._s(e.selected.timestamp_end))]),s("div",[s("b",[e._v("Description:")]),e._v(" "+e._s(e.selected.test_description))]),e.selected.hasOwnProperty("additional_info")?[s("div",[s("b",[e._v("Additional information:")])]),e._l(e.selected.additional_info,(function(t,a){return s("div",{key:a,staticClass:"pl-3"},[s("b",[e._v(e._s(e.fieldFormatter(a)+":"))]),e._v(" "+e._s(t)+" ")])}))]:e._e()]:e._e()],2)],1)],1)},ke=[],we=(s("ac1f"),s("5319"),{name:"reports",data:function(){return{selected:null}},props:{reports:{type:Array,required:!0}},methods:{correspondingTextColor:function(e){return e>0?"green":e<0?"red":"orange"},fieldFormatter:function(e){return e.replace(/_/g," ").replace(/./,e.charAt(0).toUpperCase())},selectedStatus:function(){return this.selected.result_code>0?"SUCCESSFUL":this.selected.result_code<0?"FAILED":"INDETERMINATE"}},computed:{reportsOptions:function(){var e,t,s,a=[],r=!0,n=!1,o=void 0;try{for(var i,c=this.reports[Symbol.iterator]();!(r=(i=c.next()).done);r=!0)e=i.value,t=this.correspondingTextColor(e.result_code),s='<span style="color: '.concat(t,';">').concat(e.test_name,"</span>"),a.push({html:s,value:e})}catch(l){n=!0,o=l}finally{try{r||null==c.return||c.return()}finally{if(n)throw o}}return a}}}),xe=we,_e=(s("ea0f"),Object(y["a"])(xe,ge,ke,!1,null,"2e1158d2",null)),ye=_e.exports,Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-row",{staticClass:"mt-3"},[s("b-button",{attrs:{variant:"dark"},on:{click:e.execute}},[e._v("Execute all")]),s("b-button",{staticClass:"ml-3",attrs:{variant:"outline-dark",disabled:0===e.selectedPackages.length&&0===e.selectedModules.length&&0===e.selectedTestSets.length},on:{click:e.executeSelection}},[e._v(" Execute selected ")])],1),s("b-row",{staticClass:"mt-3"},[s("h5",[e._v(" Root packages "),s("b-icon-arrow-repeat",{staticClass:"clickable",on:{click:e.refreshPackages}})],1)]),e._l(e.installedPackages,(function(t){return s("b-row",{key:t.name},[s("package-content-selector",{staticClass:"mt-1",attrs:{pack:t,selectedPackages:e.selectedPackages,selectedModules:e.selectedModules,selectedTestSets:e.selectedTestSets},on:{addPackage:e.addPackage,removePackage:e.removePackage,addModule:e.addModule,removeModule:e.removeModule,addTestSet:e.addTestSet,removeTestSet:e.removeTestSet}})],1)}))],2)},Pe=[],Se=(s("fb6a"),s("2ca0"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("entity-selector",{attrs:{selected:e.selectedPackages,value:e.path,text:e.pack.name,disabled:e.disabled},on:{addValue:e.addPackage,removeValue:e.removePackage}}),e.pack.modules?s("div",{staticClass:"pl-4"},[s("div",{staticClass:"clickable my-2",on:{click:e.toggleModules}},[e._v(e._s(e.modulesAction)+" Modules")]),e.modulesVisible?e._l(e.pack.modules,(function(t){return s("module-content-selector",{key:e.path+"."+t.name,staticClass:"mt-2",attrs:{mod:t,selectedModules:e.selectedModules,selectedTestSets:e.selectedTestSets,packagePath:e.path,disabled:e.disabled||e.selectedPackages.includes(e.path)},on:{addModule:e.addModule,removeModule:e.removeModule,addTestSet:e.addTestSet,removeTestSet:e.removeTestSet}})})):e._e()],2):e._e(),e.pack.subpackages?s("div",{staticClass:"pl-4"},[s("div",{staticClass:"clickable my-2",on:{click:e.toggleSubpackages}},[e._v(" "+e._s(e.subpackagesAction)+" Subpackages ")]),e.subpackagesVisible?e._l(e.pack.subpackages,(function(t){return s("package-content-selector",{key:e.pack.name+"."+t.name,staticClass:"mt-1",attrs:{pack:t,selectedPackages:e.selectedPackages,selectedModules:e.selectedModules,selectedTestSets:e.selectedTestSets,parentPath:e.path,disabled:e.disabled||e.selectedPackages.includes(e.path)},on:{addPackage:e.addPackage,removePackage:e.removePackage,addModule:e.addModule,removeModule:e.removeModule,addTestSet:e.addTestSet,removeTestSet:e.removeTestSet}})})):e._e()],2):e._e()],1)}),Ee=[],Re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[-1===e.index?s("b-button",{staticClass:"px-1 py-0",attrs:{variant:"success",disabled:e.disabled},on:{click:e.add}},[e._v(" + ")]):s("b-button",{staticClass:"px-1 py-0",attrs:{variant:"danger"},on:{click:e.remove}},[e._v("-")]),e._v(" "+e._s(e.text)+" ")],1)},Me=[],Ae=(s("c975"),{name:"entity-selector",props:{selected:{type:Array,required:!0},value:{type:null,required:!0},text:{type:String,required:!0},disabled:{type:Boolean,default:!1}},methods:{add:function(){this.$emit("addValue",this.value)},remove:function(){this.$emit("removeValue",this.index)}},computed:{index:function(){return this.selected.indexOf(this.value)}}}),Ue=Ae,Oe=Object(y["a"])(Ue,Re,Me,!1,null,null,null),Te=Oe.exports,je=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("entity-selector",{attrs:{selected:e.selectedModules,value:e.packagePath+"."+e.mod.name,text:e.mod.name,disabled:e.disabled},on:{addValue:e.addModule,removeValue:e.removeModule}}),e.mod.test_sets?s("div",{staticClass:"pl-4"},[s("div",{staticClass:"clickable my-2",on:{click:e.toggleTestSets}},[e._v(" "+e._s(e.testSetsAction)+" Test Sets ")]),e.testSetsVisible?e._l(e.mod.test_sets,(function(t){return s("entity-selector",{key:e.path+"."+t.name,staticClass:"mt-1",attrs:{selected:e.selectedTestSets,value:e.path+"."+t.name,text:t.name,disabled:e.disabled||e.selectedModules.includes(e.path)},on:{addValue:e.addTestSet,removeValue:e.removeTestSet}})})):e._e()],2):e._e()],1)},qe=[],Le={name:"module-content-selector",components:{"entity-selector":Te},data:function(){return{testSetsAction:"+"}},props:{mod:{type:Object,required:!0},selectedModules:{type:Array,required:!0},selectedTestSets:{type:Array,required:!0},packagePath:{type:String,required:!0},disabled:{type:Boolean,default:!1}},methods:{toggleTestSets:function(){this.testSetsAction="+"===this.testSetsAction?"-":"+"},addModule:function(e){this.$emit("addModule",e)},removeModule:function(e){this.$emit("removeModule",e)},addTestSet:function(e){this.$emit("addTestSet",e)},removeTestSet:function(e){this.$emit("removeTestSet",e)}},computed:{path:function(){return"".concat(this.packagePath,".").concat(this.mod.name)},testSetsVisible:function(){return"-"===this.testSetsAction}}},$e=Le,De=(s("ef59"),Object(y["a"])($e,je,qe,!1,null,"e70de200",null)),Ie=De.exports,Fe={name:"package-content-selector",components:{"entity-selector":Te,"module-content-selector":Ie},data:function(){return{modulesAction:"+",subpackagesAction:"+"}},props:{pack:{type:Object,required:!0},selectedPackages:{type:Array,required:!0},selectedModules:{type:Array,required:!0},selectedTestSets:{type:Array,required:!0},parentPath:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{toggleModules:function(){this.modulesAction="+"===this.modulesAction?"-":"+"},toggleSubpackages:function(){this.subpackagesAction="+"===this.subpackagesAction?"-":"+"},addPackage:function(e){this.$emit("addPackage",e)},removePackage:function(e){this.$emit("removePackage",e)},addModule:function(e){this.$emit("addModule",e)},removeModule:function(e){this.$emit("removeModule",e)},addTestSet:function(e){this.$emit("addTestSet",e)},removeTestSet:function(e){this.$emit("removeTestSet",e)}},computed:{path:function(){return this.parentPath?"".concat(this.parentPath,".").concat(this.pack.name):this.pack.name},modulesVisible:function(){return"-"===this.modulesAction},subpackagesVisible:function(){return"-"===this.subpackagesAction}}},Ve=Fe,Be=(s("c04d"),Object(y["a"])(Ve,Se,Ee,!1,null,"748dd9d2",null)),He=Be.exports,Ne={name:"execute-tests",mixins:[F],components:{"package-content-selector":He},data:function(){return{selectedPackages:[],selectedModules:[],selectedTestSets:[]}},props:{c2URL:{type:String,required:!0},ip:{type:String,required:!0},port:{type:Number,required:!0},installedPackages:{type:Array,required:!0}},watch:{installedPackages:{handler:function(){this.selectedPackages=[],this.selectedModules=[],this.selectedTestSets=[]},deep:!0,immediate:!0}},methods:{refreshPackages:function(){this.$emit("refreshPackagesRequested")},addPackage:function(e){var t=function(t){return!t.startsWith("".concat(e,"."))};this.selectedPackages=this.selectedPackages.filter(t),this.selectedModules=this.selectedModules.filter(t),this.selectedTestSets=this.selectedTestSets.filter(t),this.selectedPackages.push(e)},removePackage:function(e){this.$delete(this.selectedPackages,e)},addModule:function(e){this.selectedTestSets=this.selectedTestSets.filter((function(t){return!t.startsWith("".concat(e,"."))})),this.selectedModules.push(e)},removeModule:function(e){this.$delete(this.selectedModules,e)},addTestSet:function(e){this.selectedTestSets.push(e)},removeTestSet:function(e){this.$delete(this.selectedTestSets,e)},executeSelection:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s={packages:e.selectedPackages,modules:e.selectedModules,testSets:e.selectedTestSets},e.execute(s);case 2:case"end":return t.stop()}}),t)})))()},execute:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.packages,a=void 0===s?null:s,r=t.modules,n=void 0===r?null:r,o=t.testSets,i=void 0===o?null:o;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,r,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s="",r="".concat(e.c2URL,"/environments/").concat(e.ip,"/").concat(e.port,"/reports"),a&&a.length>0&&(s+="packages="+a.join(",")),n&&n.length>0&&(s+="&modules="+n.join(",")),i&&i.length>0&&(s+="&test_sets="+i.join(",")),s&&(s.startsWith("&")&&(s=s.slice(1)),r+="?".concat(s)),t.prev=6,t.next=9,fetch(r);case 9:o=t.sent,t.t0=o.status,t.next=200===t.t0?13:400===t.t0?20:404===t.t0?20:500===t.t0?20:502===t.t0?20:504===t.t0?20:26;break;case 13:return t.t1=e,t.next=16,o.json();case 16:return t.t2=t.sent,t.t1.$emit.call(t.t1,"reportsRecovered",t.t2),e.showSuccessModal("Execution finished!"),t.abrupt("break",27);case 20:return t.t3=e,t.next=23,o.json();case 23:return t.t4=t.sent.error,t.t3.showErrorModal.call(t.t3,t.t4),t.abrupt("break",27);case 26:e.showErrorModal("Unexpected response from Command and Control server when trying to get some reports from the requested environment.");case 27:t.next=32;break;case 29:t.prev=29,t.t5=t["catch"](6),e.showErrorModal("Something went wrong when trying to get the requested environment's reports. Please, verify that the application is correctly configured.");case 32:case"end":return t.stop()}}),t,null,[[6,29]])})))()}}},ze=Ne,We=(s("a6d9"),Object(y["a"])(ze,Ce,Pe,!1,null,"5ec45950",null)),Ye=We.exports,Je={name:"environments-panel",mixins:[F],components:{"platform-information":ue,"test-packages":$,"install-packages-form":ve,"delete-packages-form":Z,reports:ye,"execute-tests":Ye},data:function(){return{environments:null,selectedEnv:null,envPlatform:null,installedPackages:null,reports:null}},props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0},availablePackages:{type:Array,required:!0}},methods:{propagateAvailablePackagesRefreshRequested:function(){this.$emit("packagesRefreshRequested")},setEnvironments:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.c2URL,"/environments"));case 3:if(s=t.sent,200==s.status){t.next=8;break}e.showErrorModal("Unexpected response from the Command an Control server when trying to recover its connected environments."),t.next=11;break;case 8:return t.next=10,s.json();case 10:e.environments=t.sent;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.showErrorModal("Something went wrong when trying to recover the environments connected to the Command and Control server. Please, verify that the application is correctly configured.");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},setInstalledPackages:function(e,t){var s=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s.installedPackages=[],a.prev=1,a.next=4,fetch("".concat(s.c2URL,"/environments/").concat(e,"/").concat(t,"/installed"));case 4:r=a.sent,a.t0=r.status,a.next=200===a.t0?8:404===a.t0?12:502===a.t0?12:504===a.t0?12:18;break;case 8:return a.next=10,r.json();case 10:return s.installedPackages=a.sent,a.abrupt("break",19);case 12:return a.t1=s,a.next=15,r.json();case 15:return a.t2=a.sent.error,a.t1.showErrorModal.call(a.t1,a.t2),a.abrupt("break",19);case 18:s.showErrorModal("Unexpected response from the Command an Control server when trying to recover the selected environment's installed tests.");case 19:a.next=24;break;case 21:a.prev=21,a.t3=a["catch"](1),s.showErrorModal("Something went wrong when trying to recover the environment's installed tests. Please, verify that the application is correctly configured.");case 24:case"end":return a.stop()}}),a,null,[[1,21]])})))()},setPlatformInformation:function(e,t){var s=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch("".concat(s.c2URL,"/environments/").concat(e,"/").concat(t,"/info"));case 3:if(r=a.sent,200!=r.status){a.next=10;break}return a.next=7,r.json();case 7:s.envPlatform=a.sent,a.next=19;break;case 10:if(404!=r.status){a.next=18;break}return a.t0=s,a.next=14,r.json();case 14:a.t1=a.sent.error,a.t0.showErrorModal.call(a.t0,a.t1),a.next=19;break;case 18:s.showErrorModal("Unexpected response from the Command an Control server when trying to recover the selected environment's platform information.");case 19:a.next=24;break;case 21:a.prev=21,a.t2=a["catch"](0),s.showErrorModal("Something went wrong when trying to recover the environment's platform information. Please, verify that the application is correctly configured.");case 24:case"end":return a.stop()}}),a,null,[[0,21]])})))()},uninstallPackageError:function(e){return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(401!=e.status&&404!=e.status){t.next=8;break}return t.t0=alert,t.next=4,e.json();case 4:t.t1=t.sent.error,(0,t.t0)(t.t1),t.next=9;break;case 8:alert("Unexpected response from Command and Control server.");case 9:case"end":return t.stop()}}),t)})))()},removePackages:function(e){this.installedPackages=this.installedPackages.filter((function(t){return!e.has(t.name)}))},setReports:function(e){this.reports=e}},watch:{selectedEnv:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setInstalledPackages(t.ip,t.port),this.setPlatformInformation(t.ip,t.port),this.reports=null;case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},computed:{environmentsListOptions:function(){var e,t=[],s=!0,a=!1,r=void 0;try{for(var n,o=this.environments[Symbol.iterator]();!(s=(n=o.next()).done);s=!0)e=n.value,t.push({text:"".concat(e.ip,":").concat(e.port),value:e})}catch(i){a=!0,r=i}finally{try{s||null==o.return||o.return()}finally{if(a)throw r}}return t}},created:function(){this.setEnvironments()}},Ge=Je,Ke=(s("72f4"),Object(y["a"])(Ge,re,ne,!1,null,"3b6cf98e",null)),Qe=Ke.exports,Xe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("sessions-search-subpanel",{directives:[{name:"show",rawName:"v-show",value:!e.requestedSessionID,expression:"!requestedSessionID"}],attrs:{c2URL:e.c2URL,eventBus:e.eventBus},on:{detailsRequested:e.setRequestedSessionID}}),e.requestedSessionID?s("session-information-subpanel",{attrs:{c2URL:e.c2URL,c2Password:e.c2Password,sessionID:e.requestedSessionID},on:{back:function(t){return e.setRequestedSessionID(null)},sessionDeleted:e.handleSessionDeleted}}):e._e()],1)},Ze=[],et=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{attrs:{fluid:""}},[s("b-row",[s("b-col",{staticClass:"search-form px-3 px-md-4 py-3 overflowable",attrs:{cols:"4",lg:"3",xl:"2"}},[s("h5",[e._v("Sessions")]),s("b-form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[s("b-form-group",{attrs:{id:"ids-filter",label:"IDs","label-for":"search-ids"}},[s("b-form-input",{attrs:{id:"search-ids",type:"text"},model:{value:e.searchFields.ids,callback:function(t){e.$set(e.searchFields,"ids",t)},expression:"searchFields.ids"}})],1),s("b-form-group",{attrs:{id:"session-start-from-filter",label:"Start from","label-for":"search-start-from"}},[s("b-form-input",{attrs:{id:"search-start-from",type:"datetime-local"},model:{value:e.searchFields.start_from,callback:function(t){e.$set(e.searchFields,"start_from",t)},expression:"searchFields.start_from"}})],1),s("b-form-group",{attrs:{id:"session-start-to-filter",label:"Start to","label-for":"search-start-to"}},[s("b-form-input",{attrs:{id:"search-start-to",type:"datetime-local"},model:{value:e.searchFields.start_to,callback:function(t){e.$set(e.searchFields,"start_to",t)},expression:"searchFields.start_to"}})],1),s("b-form-group",{attrs:{id:"session-end-from-filter",label:"End from","label-for":"search-end-from"}},[s("b-form-input",{attrs:{id:"search-end-from",type:"datetime-local"},model:{value:e.searchFields.end_from,callback:function(t){e.$set(e.searchFields,"end_from",t)},expression:"searchFields.end_from"}})],1),s("b-form-group",{attrs:{id:"session-end-to-filter",label:"End to","label-for":"search-end-to"}},[s("b-form-input",{attrs:{id:"search-end-to",type:"datetime-local"},model:{value:e.searchFields.end_to,callback:function(t){e.$set(e.searchFields,"end_to",t)},expression:"searchFields.end_to"}})],1),s("b-form-group",{attrs:{id:"ips-filter",label:"IPs","label-for":"search-ips"}},[s("b-form-input",{attrs:{id:"search-ips",type:"text"},model:{value:e.searchFields.ips,callback:function(t){e.$set(e.searchFields,"ips",t)},expression:"searchFields.ips"}})],1),s("b-form-group",{attrs:{id:"ports-filter",label:"Ports","label-for":"search-ports"}},[s("b-form-input",{attrs:{id:"search-ports",type:"text"},model:{value:e.searchFields.ports,callback:function(t){e.$set(e.searchFields,"ports",t)},expression:"searchFields.ports"}})],1),s("b-form-group",{attrs:{id:"systems-filter",label:"Operating systems","label-for":"search-systems"}},[s("b-form-input",{attrs:{id:"search-systems",type:"text"},model:{value:e.searchFields.systems,callback:function(t){e.$set(e.searchFields,"systems",t)},expression:"searchFields.systems"}})],1),s("b-form-group",{attrs:{id:"order-by",label:"Order by","label-for":"search-order"}},[s("b-form-select",{attrs:{id:"search-order"},on:{change:e.handleOrderByChange},model:{value:e.searchFields.order_by,callback:function(t){e.$set(e.searchFields,"order_by",t)},expression:"searchFields.order_by"}},[s("b-form-select-option",{attrs:{value:null}},[e._v(" Select an option ")]),s("b-form-select-option",{attrs:{value:"id"}},[e._v("ID")]),s("b-form-select-option",{attrs:{value:"start"}},[e._v(" Session start ")]),s("b-form-select-option",{attrs:{value:"end"}},[e._v("Session end")]),s("b-form-select-option",{attrs:{value:"ip"}},[e._v("IP")]),s("b-form-select-option",{attrs:{value:"port"}},[e._v("Port")]),s("b-form-select-option",{attrs:{value:"system"}},[e._v(" Operating system ")])],1)],1),s("b-form-group",{attrs:{id:"arrange",label:"Arrange","label-for":"search-arrange"}},[s("b-form-select",{attrs:{id:"search-arrange",disabled:!e.searchFields.order_by},model:{value:e.searchFields.arrange,callback:function(t){e.$set(e.searchFields,"arrange",t)},expression:"searchFields.arrange"}},[s("b-form-select-option",{attrs:{value:"asc"}},[e._v("Ascending")]),s("b-form-select-option",{attrs:{value:"desc"}},[e._v("Descending")])],1)],1),s("b-form-group",{attrs:{id:"limit",label:"Limit","label-for":"search-limit"}},[s("b-form-input",{attrs:{id:"search-limit",type:"number",min:"1"},on:{change:e.handleLimitChange},model:{value:e.searchFields.limit,callback:function(t){e.$set(e.searchFields,"limit",t)},expression:"searchFields.limit"}})],1),s("b-form-group",{attrs:{id:"offset",label:"Offset","label-for":"search-offset"}},[s("b-form-input",{attrs:{id:"search-offset",type:"number",min:"0",disabled:!e.searchFields.limit},model:{value:e.searchFields.offset,callback:function(t){e.$set(e.searchFields,"offset",t)},expression:"searchFields.offset"}})],1),s("b-button",{staticClass:"mt-2",attrs:{type:"submit",variant:"light"}},[e._v("Search")])],1)],1),s("b-col",{staticClass:"p-5 overflowable",attrs:{cols:"8",lg:"9",xl:"10"}},[s("b-card",{attrs:{title:"Search results"}},[e.searchResults?s("b-table-simple",{attrs:{hover:"",striped:"",small:"",stacked:"lg"}},[s("b-thead",{attrs:{"head-variant":"dark"}},[s("b-tr",[s("b-th",[e._v("ID")]),s("b-th",[e._v("Start")]),s("b-th",[e._v("End")]),s("b-th",[e._v("IP")]),s("b-th",[e._v("Port")]),s("b-th",[e._v("OS")]),s("b-th")],1)],1),s("b-tbody",e._l(e.searchResults,(function(t){return s("b-tr",{key:t.session_id},[s("b-th",{attrs:{"stacked-heading":"ID"}},[e._v(e._s(t.session_id))]),s("b-th",{attrs:{"stacked-heading":"Start"}},[e._v(e._s(t.session_start))]),s("b-th",{attrs:{"stacked-heading":"End"}},[e._v(" "+e._s(t.hasOwnProperty("session_end")?t.session_end:"-")+" ")]),s("b-th",{attrs:{"stacked-heading":"IP"}},[e._v(e._s(t.ip))]),s("b-th",{attrs:{"stacked-heading":"Port"}},[e._v(e._s(t.port))]),s("b-th",{attrs:{"stacked-heading":"OS"}},[e._v(e._s(t.platform_os_system))]),s("b-th",[s("b-button",{on:{click:function(s){return e.requestDetails(t.session_id)}}},[e._v(" Details ")])],1)],1)})),1)],1):e._e()],1)],1)],1)],1)},tt=[],st=(s("4fad"),s("3835")),at={name:"sessions-search-subpanel",mixins:[F],props:{c2URL:{type:String,required:!0},eventBus:{type:Object,required:!0}},data:function(){return{searchFields:{ids:null,start_from:null,start_to:null,end_from:null,end_to:null,ips:null,ports:null,systems:null,order_by:null,arrange:null,limit:null,offset:null},searchResults:null}},created:function(){var e=this;this.eventBus.$on("sessionDeleted",(function(t){e.searchResults=e.searchResults.filter((function(e){return e.session_id!=t}))}))},methods:{handleOrderByChange:function(){this.searchFields.order_by||(this.searchFields.arrange=null)},handleLimitChange:function(){this.searchFields.limit||(this.searchFields.offset=null)},search:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,r,n,o,i,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(r="",n="".concat(e.c2URL,"/sessions"),o=0,i=Object.entries(e.searchFields);o<i.length;o++)c=Object(st["a"])(i[o],2),s=c[0],a=c[1],a&&(r+="&".concat(s,"=").concat(a));return r&&(r=r.slice(1),n+="?".concat(r)),t.prev=4,t.next=7,fetch(n);case 7:l=t.sent,t.t0=l.status,t.next=200===t.t0?11:400===t.t0?16:22;break;case 11:return t.next=13,l.json();case 13:return e.searchResults=t.sent,0==e.searchResults.length&&e.showWarningModal("No session matching the given criteria was found!"),t.abrupt("break",23);case 16:return t.t1=e,t.next=19,l.json();case 19:return t.t2=t.sent.error,t.t1.showErrorModal.call(t.t1,t.t2),t.abrupt("break",23);case 22:e.showErrorModal("Unexpected response from Command and Control server when trying to find sessions.");case 23:t.next=28;break;case 25:t.prev=25,t.t3=t["catch"](4),e.showErrorModal("Something went wrong trying to search for sessions. Please, verify that the application is correctly configured.");case 28:case"end":return t.stop()}}),t,null,[[4,25]])})))()},requestDetails:function(e){this.$emit("detailsRequested",e)}}},rt=at,nt=(s("362f"),Object(y["a"])(rt,et,tt,!1,null,"6a6a6f42",null)),ot=nt.exports,it=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("b-container",{staticClass:"p-5",attrs:{fluid:""}},[s("b-icon-arrow-left",{staticClass:"back-button",on:{click:e.goBack}}),e.sessionInfo?s("b-card",{staticClass:"session-information-card mx-auto mt-3",attrs:{title:"Session's information",align:"left"}},[s("b-card-text",[e._v("ID: "+e._s(e.sessionInfo.session_id))]),s("b-card-text",[e._v("Status: "+e._s(e.isActive?"Active":"Closed"))]),s("b-card-text",[e._v("Start: "+e._s(e.sessionInfo.session_start))]),e.isActive?e._e():s("b-card-text",[e._v("End: "+e._s(e.sessionInfo.session_end))]),s("platform-information",{attrs:{platform:e.sessionInfo.platform_info,verticalMarginBetween:3}}),e.isActive?e._e():s("b-button",{staticClass:"mt-3",attrs:{variant:"danger"},on:{click:e.deleteSession}},[e._v(" Delete session ")])],1):e._e(),s("h3",{staticClass:"background-title mt-5"},[e._v("Executions")]),e._l(e.sessionExecutions,(function(t){return s("b-card",{key:t.execution_id,staticClass:"session-information-card mx-auto mt-5",attrs:{title:"Execution "+t.execution_id,align:"left"}},[s("b-tabs",{attrs:{pills:"","active-nav-item-class":"bg-secondary","nav-class":"bg-dark"}},[s("b-tab",{attrs:{title:"Information","title-link-class":"text-light",active:""}},[s("b-card-text",{staticClass:"mt-3"},[e._v(" Execution's ID: "+e._s(t.execution_id)+" ")]),s("b-card-text",[e._v(" Register time: "+e._s(t.timestamp_registered)+" ")]),s("b-card-text",[e._v(" Total reports: "+e._s(t.reports.length)+" ")]),s("b-button",{staticClass:"mt-3",attrs:{variant:"danger"},on:{click:function(s){return e.deleteExecution(t.execution_id)}}},[e._v(" Delete execution ")])],1),s("b-tab",{attrs:{title:"Reports","title-link-class":"text-light"}},[s("reports",{attrs:{reports:t.reports}})],1)],1)],1)}))],2)},ct=[],lt={name:"session-information-subpanel",mixins:[F],components:{"platform-information":ue,reports:ye},data:function(){return{sessionInfo:null,sessionExecutions:null}},props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0},sessionID:{type:Number,required:!0}},methods:{setSessionInfo:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.c2URL,"/sessions/").concat(e.sessionID));case 3:s=t.sent,t.t0=s.status,t.next=200===t.t0?7:404===t.t0?11:17;break;case 7:return t.next=9,s.json();case 9:return e.sessionInfo=t.sent,t.abrupt("break",18);case 11:return t.t1=e,t.next=14,s.json();case 14:return t.t2=t.sent.error,t.t1.showErrorModal.call(t.t1,t.t2),t.abrupt("break",18);case 17:e.showErrorModal("Unexpected response from Command and Control server when trying to recover the session's information.");case 18:t.next=23;break;case 20:t.prev=20,t.t3=t["catch"](0),e.showErrorModal("Something went wrong trying to contact the Command and Control server to recover the session's information. Please, verify that the application is correctly configured.");case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},setSessionExecutions:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.c2URL,"/executions?sessions=").concat(e.sessionID));case 3:s=t.sent,t.t0=s.status,t.next=200===t.t0?7:400===t.t0?11:17;break;case 7:return t.next=9,s.json();case 9:return e.sessionExecutions=t.sent,t.abrupt("break",18);case 11:return t.t1=e,t.next=14,s.json();case 14:return t.t2=t.sent.error,t.t1.showErrorModal.call(t.t1,t.t2),t.abrupt("break",18);case 17:e.showErrorModal("Unexpected response from Command and Control server when trying to recover the session's executions.");case 18:t.next=23;break;case 20:t.prev=20,t.t3=t["catch"](0),e.showErrorModal("Something went wrong trying to recover the session's executions. Please, verify that the application is correctly configured.");case 23:case"end":return t.stop()}}),t,null,[[0,20]])})))()},goBack:function(){this.$emit("back")},deleteSession:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s,a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.showDangerousOperationConfirmationModal("Deleting a session will remove all its associated information and executions. Are you sure you want to continue?","Delete");case 2:if(s=t.sent,!s){t.next=33;break}return r="/sessions/".concat(e.sessionID),n=H.newSignature(e.c2Password,"DELETE",r),a={method:"DELETE",headers:{Authorization:H.newAuthorizationHeader("Client",n)}},t.prev=7,t.next=10,fetch("".concat(e.c2URL).concat(r),a);case 10:o=t.sent,t.t0=o.status,t.next=404===t.t0?14:204===t.t0?19:400===t.t0?21:401===t.t0?21:27;break;case 14:return t.t1=e,t.next=17,o.json();case 17:t.t2=t.sent.error,t.t1.showErrorModal.call(t.t1,t.t2);case 19:return e.$emit("sessionDeleted",e.sessionID),t.abrupt("break",28);case 21:return t.t3=e,t.next=24,o.json();case 24:return t.t4=t.sent.error,t.t3.showErrorModal.call(t.t3,t.t4),t.abrupt("break",28);case 27:e.showErrorModal("Unexpected response from Command and Control server when trying to delete the session.");case 28:t.next=33;break;case 30:t.prev=30,t.t5=t["catch"](7),e.showErrorModal("Something went wrong when trying to contact the Command and Control server trying to delete the session. Please, verify that the application is correctly configured.");case 33:case"end":return t.stop()}}),t,null,[[7,30]])})))()},deleteExecution:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function s(){var a,r,n,o,i;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.showDangerousOperationConfirmationModal("Deleting an execution will remove all its associated information and reports. Are you sure you want to continue?","Delete");case 2:if(a=s.sent,!a){s.next=33;break}return n="/executions/".concat(e),o=H.newSignature(t.c2Password,"DELETE",n),r={method:"DELETE",headers:{Authorization:H.newAuthorizationHeader("Client",o)}},s.prev=7,s.next=10,fetch("".concat(t.c2URL).concat(n),r);case 10:i=s.sent,s.t0=i.status,s.next=404===s.t0?14:204===s.t0?19:401===s.t0?21:27;break;case 14:return s.t1=t,s.next=17,i.json();case 17:s.t2=s.sent.error,s.t1.showErrorModal.call(s.t1,s.t2);case 19:return t.sessionExecutions=t.sessionExecutions.filter((function(t){return t.execution_id!=e})),s.abrupt("break",28);case 21:return s.t3=t,s.next=24,i.json();case 24:return s.t4=s.sent.error,s.t3.showErrorModal.call(s.t3,s.t4),s.abrupt("break",28);case 27:t.showErrorModal("Unexpected response from Command and Control server when trying to delete the execution.");case 28:s.next=33;break;case 30:s.prev=30,s.t5=s["catch"](7),t.showErrorModal("Something went wrong when trying to contact the Command and Control server trying to delete the execution. Please, verify that the application is correctly configured.");case 33:case"end":return s.stop()}}),s,null,[[7,30]])})))()}},computed:{isActive:function(){return!this.sessionInfo.hasOwnProperty("session_end")}},created:function(){this.setSessionInfo(),this.setSessionExecutions()}},dt=lt,ut=(s("8bcd"),Object(y["a"])(dt,it,ct,!1,null,"fbd81b86",null)),pt=ut.exports,ft={name:"sessions-panel",components:{"sessions-search-subpanel":ot,"session-information-subpanel":pt},data:function(){return{requestedSessionID:null,eventBus:new a["default"]}},props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0}},methods:{setRequestedSessionID:function(e){this.requestedSessionID=e},handleSessionDeleted:function(e){this.eventBus.$emit("sessionDeleted",e),this.requestedSessionID=null}}},ht=ft,mt=Object(y["a"])(ht,Xe,Ze,!1,null,null,null),bt=mt.exports,vt={name:"layout",mixins:[F],components:{"command-control-panel":ae,"environments-panel":Qe,"sessions-panel":bt},data:function(){return{availablePackages:[],currentPanel:"command-control-panel"}},props:{c2URL:{type:String,required:!0},c2Password:{type:String,required:!0}},methods:{changePanel:function(e){this.currentPanel=e},setAvailablePackages:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(e.c2URL,"/test_sets"));case 3:if(s=t.sent,200==s.status){t.next=8;break}e.showErrorModal("Unexpected response from the Command an Control server when trying to recover its available tests."),t.next=11;break;case 8:return t.next=10,s.json();case 10:e.availablePackages=t.sent;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),e.showErrorModal("Something went wrong when trying to recover the tests available at the Command and Control server. Please, verify that the application is correctly configured.");case 16:case"end":return t.stop()}}),t,null,[[0,13]])})))()},removePackages:function(e){this.availablePackages=this.availablePackages.filter((function(t){return!e.has(t.name)}))},propagateNewC2Configuration:function(e,t){this.$emit("newC2Configuration",e,t)}},computed:{panelProps:function(){var e={};switch(this.currentPanel){case"command-control-panel":case"environments-panel":e.availablePackages=this.availablePackages;case"sessions-panel":return e.c2URL=this.c2URL,e.c2Password=this.c2Password,e;default:return null}},panelEvents:function(){switch(this.currentPanel){case"command-control-panel":return{packagesRefreshRequested:this.setAvailablePackages,packagesDeleted:this.removePackages,newC2Configuration:this.propagateNewC2Configuration};case"environments-panel":return{packagesRefreshRequested:this.setAvailablePackages};default:return null}}},watch:{c2URL:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.setAvailablePackages();case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){this.setAvailablePackages()}},gt=vt,kt=(s("f949"),Object(y["a"])(gt,c,l,!1,null,"acb3e4d4",null)),wt=kt.exports,xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("b-container",{staticClass:"pt-5 px-0",attrs:{fluid:""}},[a("img",{attrs:{alt:"Secchiware logo",src:s("9c2b")}}),a("h1",{staticClass:"my-5 mx-auto"},[e._v("Welcome to Secchiware Desktop Client!")]),a("b-container",{staticClass:"connection-form p-5",attrs:{fluid:""}},[a("h2",{staticClass:"mb-5"},[e._v("Specify a Command and Control server:")]),a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4",xl:"3"}},[a("b-form",{on:{submit:function(t){return t.preventDefault(),e.handleSubmit(t)}}},[a("b-form-group",{staticClass:"mb-4",attrs:{id:"c2-url-fieldset",label:"URL","label-for":"c2-url"}},[a("b-form-input",{attrs:{id:"c2-url",type:"url",placeholder:"http://127.0.0.1/5000"},on:{focus:e.clearStatus,keypress:e.clearStatus},model:{value:e.c2URL,callback:function(t){e.c2URL=t},expression:"c2URL"}})],1),a("b-form-group",{attrs:{id:"c2-password-fieldset",label:"Password","label-for":"c2-password"}},[a("b-form-input",{attrs:{id:"c2-password",type:"password"},model:{value:e.c2Password,callback:function(t){e.c2Password=t},expression:"c2Password"}})],1),a("b-alert",{staticClass:"mb-4",attrs:{variant:"danger",dismissible:""},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v(" "+e._s(this.errorMessage)+" ")]),a("b-button",{staticClass:"mt-3",attrs:{type:"submit",variant:"light"}},[e._v("Start!")])],1)],1)],1)],1)],1)},_t=[],yt={name:"welcome",data:function(){return{error:!1,errorMessage:"",c2URL:"",c2Password:""}},methods:{handleSubmit:function(){this.clearStatus(),this.invalidURL||this.invalidURL?(this.error=!0,this.errorMessage="You must complete all fields."):this.$emit("newC2Configuration",this.c2URL,this.c2Password)},clearStatus:function(){this.error=!1,this.errorMessage=""}},computed:{invalidURL:function(){return""===this.c2URL},invalidPassword:function(){return""===this.c2Password}}},Ct=yt,Pt=(s("036f"),Object(y["a"])(Ct,xt,_t,!1,null,"3dbe2676",null)),St=Pt.exports,Et={name:"app",components:{layout:wt,welcome:St},data:function(){return{c2URL:"",c2Password:""}},methods:{setC2Configuration:function(e,t){this.c2URL=e,this.c2Password=t}}},Rt=Et,Mt=(s("034f"),Object(y["a"])(Rt,o,i,!1,null,null,null)),At=Mt.exports;a["default"].config.productionTip=!1,new a["default"]({render:function(e){return e(At)}}).$mount("#app")},"5e5a":function(e,t,s){},"5ec8":function(e,t,s){"use strict";var a=s("67a7"),r=s.n(a);r.a},"67a7":function(e,t,s){},"72f4":function(e,t,s){"use strict";var a=s("8c53"),r=s.n(a);r.a},8524:function(e,t,s){},"85ec":function(e,t,s){},"86b8":function(e,t,s){},"8bcd":function(e,t,s){"use strict";var a=s("86b8"),r=s.n(a);r.a},"8c53":function(e,t,s){},"97bd":function(e,t,s){},"99ba":function(e,t,s){},"9c2b":function(e,t,s){e.exports=s.p+"img/secchiware_logo.8204d583.png"},"9c39":function(e,t,s){},a1e8:function(e,t,s){"use strict";var a=s("f086"),r=s.n(a);r.a},a239:function(e,t,s){},a6d9:function(e,t,s){"use strict";var a=s("e17e"),r=s.n(a);r.a},bf07:function(e,t,s){"use strict";var a=s("a239"),r=s.n(a);r.a},c017:function(e,t,s){"use strict";var a=s("da10"),r=s.n(a);r.a},c04d:function(e,t,s){"use strict";var a=s("99ba"),r=s.n(a);r.a},da10:function(e,t,s){},dfac:function(e,t,s){"use strict";var a=s("fd27"),r=s.n(a);r.a},e162:function(e,t,s){},e17e:function(e,t,s){},ea0f:function(e,t,s){"use strict";var a=s("5e5a"),r=s.n(a);r.a},ef59:function(e,t,s){"use strict";var a=s("505c"),r=s.n(a);r.a},f086:function(e,t,s){},f949:function(e,t,s){"use strict";var a=s("97bd"),r=s.n(a);r.a},fd27:function(e,t,s){}});
//# sourceMappingURL=app.0ddf9289.js.map